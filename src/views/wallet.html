{% set page = { name: 'wallet' } %}
<!DOCTYPE html>
  <head>
      {% include "head.html" %}
  </head>
  <body>
    {% include "navbar.html" %}
    <div class="ios-subheading">
      Balance
    </div>
    <div class="ios-section">
      <span id="head-line-balance">X BTC</span>
      (<span class="btc-balance-to-fiat" id="btc-balance-to-fiat">~ Loading... </span>)
    </div>
    <div class="ios-subheading">
      Receive
    </div>
    <div class="ios-section">
        <div id="qrcode" class="text-center"></div>
        <h5 id="textAddress" class="text-center"></h5>
    </div>
    <div class="ios-subheading">
      Send
    </div>
    <div class="ios-section">
      <div id="send">
          <div class="panel-body">
              <div id="successAlert" class="alert alert-success alert-dismissable d-none">
                  <button id="successAlertClose" type="button" class="close">&times;</button>
                  <p id="successAlertLabel">Success</p>
              </div>
              <div id="unknownErrorAlert" class="alert alert-danger alert-dismissable d-none">
                  <button id="unkownErrorAlertClose" type="button" class="close">&times;</button>
                  <p id="unknownErrorAlertLabel">Unknown error</p>
              </div>
              <div class="form-group">
                  <label for="sendAddress">To Address:</label>
                  <div id="addressAlert" class="alert alert-danger d-none">
                      Not a valid address.
                  </div>
                  <input type="text" class="form-control" id="sendAddress" value="">
              </div>
              <label id="amountLabel" for="amount">Amount:</label>
              <div id="amountAlert" class="alert alert-danger d-none">
                  Amount must be greater than zero and less than your balance.
              </div>
              <div class="input-group">
                  <input type="number" min="0" step="0.001" value="0.0002" class="form-control" id="amount" placeholder="(incl. 0.0001 BTC fee)">
                  <span id="sendUnit" class="input-group-addon">BTC</span>
                  <div class="input-group-btn">
                      <button id="sendButton" type="submit" class="btn btn-primary">Send</button>
                  </div>
              </div>
          </div>
          <div>
              <table>
                    <tr>
                        <td class="text-right">
                            Balance:
                        </td>
                        <td>
                            <span id="balance">0 BTC</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="text-right">
                            Fee:
                        </td>
                        <td>
                            <span id="bitcoin-fee">0.0001 BTC</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="text-right">
                            Balance Available:
                        </td>
                        <td>
                            <span id="max-available-balance">0</span>
                        </td>
                    </tr>
              </table>
          </div>
      </div>
    </div>
    <div class="ios-subheading">
      Options
    </div>
    <div class="ios-section" id="wallet-option-links">
      <button type="button" id="setUnits" class="btn btn-primary" data-toggle="modal" data-target="#setUnitsModal">
          Set BTC Units
      </button>
      <button type="button" id="showPrivateKey" class="btn btn-primary" data-toggle="modal" data-target="#showPrivateKeyModal">
          Show Private Key
      </button>
      <button type="button" id="importPrivateKey" class="btn btn-primary" data-toggle="modal" data-target="#importPrivateKeyModal">
          Import Private Key
      </button>
      <button type="button" id="generateNewWallet" class="btn btn-primary" data-toggle="modal" data-target="#generateNewWalletModal">
          Generate New Wallet
      </button>
    </div>

    <div id="main" class="container"></div>

    <div class="modal fade" id="sendConfirmationModal" tabindex="-1" role="dialogue" aria-labelledby="sendConfirmationLabel">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="sendConfirmationLabel">
                        Confirm Send
                    </h4>
                </div>
                <div class="modal-body">
                    <p id="sendConfirmationText">
                        Send Money
                    </p>
                    <div id="sendConfirmationPasswordIncorrect" class="alert alert-danger">
                        Your password is incorrect.
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" id="sendConfirmationPassword" placeholder="Password">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    Cancel
                </button>
                <button id="confirmSendButton" type="button" class="btn btn-primary">
                    Send
                </button>
            </div>
        </div>
    </div>

    <div class="modal fade" id="setPasswordModal" tabindex="-1" role="dialog" aria-labelledby="setPasswordLabel">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="setPasswordLabel">
                        Set Password / Encrypt Wallet
                    </h4>
                </div>
                <div class="modal-body">
                    <p>
                        Set a password to encrypt your wallet. You will be asked for this password whenever you try to send BTC. This does not affect receiving BTC
                    </p>
                    <div class="alert alert-warning">
                        <strong>Warning!</strong> This password is not stored anywhere, and is not recoverable. If you lose your password your balance will be lost
                    </div>
                    <div id="passwordMismatch" class="alert alert-danger">
                        Your passwords do not match
                    </div>
                    <div id="setPasswordIncorrect" class="alert alert-danger">
                        Your password is incorrect
                    </div>
                    <div id="setPasswordBlank" class="alert alert-danger">
                        Please fill in all fields
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" id="setPasswordPassword" placeholder="Password">
                        <div id="removePasswordDiv" class="checkbox">
                            <label>
                                <input id="removePassword" type="checkbox" value="">
                                Do not password protect
                            </label>
                        </div>
                        <input type="password" class="form-control" id="newPassword" placeholder="New Password">
                        <input type="password" class="form-control" id="confirmNewPassword" placeholder="Confirm New Password">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        Cancel
                    </button>
                    <button id="confirmSetPassword" type="button" class="btn btn-primary">
                        Set password
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="setUnitsModal" tabindex="-1" role="dialog" aria-labelledby="setUnitsLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="setUnitsLabel">Set BTC Units</h4>
                </div>
                <div class="modal-body">
                    <table id="setBTCUnits" class="table table-striped table-bordered">
                    <tr>
                        <td>
                            <div class="radio no-padding">
                                <label>
                                    <input name="BTC" type="radio"> BTC
                                </label>
                            </div>
                        </td>
                        <td>
                            <div class="radio no-padding">
                                <label>
                                    <input name="mBTC" type="radio"> mBTC
                                </label>
                            </div>
                        </td>
                        <td>
                            <div class="radio no-padding">
                               <label>
                                   <input name="µBTC" type="radio"> µBTC
                               </label>
                            </div>
                        </td>
                    </tr>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="showPrivateKeyModal" tabindex="-1" role="dialog" aria-labelledby="showPrivateKeyLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="showPrivateKeyLabel">
                        Show Private Key / Export Wallet
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="alert alert-warning">
                        <strong>Warning!</strong> Do not show your private key in public.
                    </div>
                    <div id="showPrivateKeyPasswordIncorrect" class="alert alert-danger">
                        Your password is incorrect.
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" id="showPrivateKeyPassword" placeholder="Password">
                    </div>
                    <div id="privateKey" class="center-block">
                        <div id="privateKeyQRCode"></div>
                        <h5 id="privateKeyText" class="text-center"></h5>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        Cancel
                    </button>
                    <button id="showPrivateKeyConfirm" type="button" class="btn btn-primary">
                        Show Private Key&nbsp; <i class="fa fa-qrcode" aria-hidden="true"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="importPrivateKeyModal" tabindex="-1" role="dialog" aria-labelledby="importPrivateKeyLabel">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" id="importPrivateKeyLabel">
                        Import Private Key
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="alert alert-warning">
                        <strong>Warning!</strong> All balance on current wallet will be lost.
                    </div>
                    <div id="importPrivateKeyPasswordIncorrect" class="alert alert-danger">
                        Your password is incorrect.
                    </div>
                    <div id="importPrivateKeyBadPrivateKey" class="alert alert-danger">
                        The private key is invalid.
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" id="importPrivateKeyPassword" placeholder="Password">
                        <input type="text" class="form-control" id="importPrivateKeyPrivateKey" placeholder="Private Key">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        Cancel
                    </button>
                    <button id="importPrivateKeyConfirm" type="button" class="btn btn-primary">
                        Import Private Key
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="generateNewWalletModal" tabindex="-1" role="dialog" aria-labelledby="generateNewWalletLabel">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close">&times;</button>
                    <h4 class="modal-title" id="generateNewWalletLabel">Generate New Wallet</h4>
                </div>
                <div class="modal-body">
                    <div class="alert alert-warning">
                        <strong>Warning!</strong> All balance on current wallet will be lost.
                    </div>
                    <div id="generateNewWalletPasswordIncorrect" class="alert alert-danger">
                        Your password is incorrect.
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" id="generateNewWalletPassword" placeholder="Password">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        Cancel
                    </button>
                    <button id="generateNewWalletConfirm" type="button" class="btn btn-primary">
                        Generate New Wallet
                    </button>
                </div>
            </div>
        </div>
    </div>
    {% include "scripts.html" %}
    <script src="/js/wallet.js"></script>
  </body>
</html>
